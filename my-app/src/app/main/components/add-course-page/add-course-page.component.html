<div class="wrapper">
  <form [formGroup]="courseForm">
    <mat-card>
        <mat-card-title>{{ pageTitle }}</mat-card-title> 
        <mat-form-field appearance="fill">
            <mat-label>Title:</mat-label>
            <input matInput name="name" formControlName="name">
            <mat-error *ngIf="courseForm.controls['name'].hasError('required')">
              <span>The field is required</span>
            </mat-error>
            <mat-error *ngIf="courseForm.controls['name'].hasError('maxlength')">
              <span>Course title's max length is 50</span>
            </mat-error>
        </mat-form-field>
        <mat-form-field apperance="fill">
            <mat-label>Description:</mat-label>
            <textarea matInput placeholder="Ex. It makes me feel..." name="description" formControlName="description"></textarea>
            <mat-error *ngIf="courseForm.controls['description'].hasError('required')">
              <span>The field is required</span>
            </mat-error>
            <mat-error *ngIf="courseForm.controls['description'].hasError('maxlength')">
              <span>Course description is to long</span>
            </mat-error>
        </mat-form-field>
        <app-date-input formControlName="date" [errorMatcher]="createCustomErrorMatcher('date')"></app-date-input>
        <app-duration formControlName="length" [errorMatcher]="createCustomErrorMatcher('length')"></app-duration>
        <mat-card-actions>
            <button (click)="cancel()">Cancel</button>
            <button (click)="pageTitle === 'New course' ? addCourse() : editCourse()" [disabled]="courseForm.invalid">Save</button>
        </mat-card-actions>
    </mat-card>
  </form>
</div>
